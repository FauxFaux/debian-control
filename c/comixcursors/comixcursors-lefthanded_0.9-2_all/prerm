#! /bin/sh
# Pre-remove script for ‘comixcursors-lefthanded’.
#
# Manpage: ‘dh_installdeb(1)’

set -e

# Summary of ways this script can be called:
#   * <prerm> remove
#   * <old-prerm> upgrade <new-version>
#   * <new-prerm> failed-upgrade <old-version>
#   * <conflictor's-prerm> remove
#     in-favour <package> <new-version>
#   * <deconfigured's-prerm> deconfigure
#     in-favour <package-being-installed> <version>
#     removing <conflicting-package> <version>
# For details, see the Debian Policy §6.5 in the ‘debian-policy’ package
# or on the web at <URL:http://www.debian.org/doc/debian-policy/>.

action="$1"

ICONDIR=/usr/share/icons
ALTERNATIVE_NAME=x-cursor-theme

case "$action" in
    remove|deconfigure)
        for theme in `find "$ICONDIR" -regex '.*ComixCursors-LH.*/index\.theme$'`; do
            update-alternatives --remove $ALTERNATIVE_NAME "$theme"
        done
        ;;

    upgrade)
        # We work around Bug#392657 by *not* removing and
        # re-installing on upgrade. Instead, we remove themes no
        # longer shipped in preinst, and add new themes on upgrade.
        ;;

    failed-upgrade)
        ;;

    *)
        printf "prerm called with unknown action ‘%s’\n" "$action" >&2
        exit 1
        ;;

esac

# ‘dh_installdeb’ will replace this with shell code automatically generated
# by other debhelper scripts.



exit 0
