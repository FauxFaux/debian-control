#!/bin/sh -e
# config script for libphone-utils
. /usr/share/debconf/confmodule

if [ -s /etc/phone-utils.conf ] ; then
	INTERNATIONAL=$(cat /etc/phone-utils.conf | grep -E "^international_prefix" | head -n 1 | cut -d "=" -f 2)
	NATIONAL=$(cat /etc/phone-utils.conf | grep -E "^national_prefix" | head -n 1 | cut -d "=" -f 2)
	COUNTRY=$(cat /etc/phone-utils.conf | grep country_code | head -n 1 | cut -d "=" -f 2)
	AREA=$(cat /etc/phone-utils.conf | grep area_code | head -n 1 | cut -d "=" -f 2)

	if [ -n "$INTERNATIONAL" ] ; then
		db_set libphone-utils/international_prefix "$INTERNATIONAL"
	fi
	if [ -n "$NATIONAL" ] ; then
		db_set libphone-utils/national_prefix "$NATIONAL"
	fi
	if [ -n "$COUNTRY" ] ; then
		db_set libphone-utils/country_code "$COUNTRY"
	fi
	if [ -n "$AREA" ] ; then
		db_set libphone-utils/area_code "$AREA"
	fi
fi

db_input high libphone-utils/international_prefix || true
db_go

db_input high libphone-utils/national_prefix || true
db_go

db_input high libphone-utils/country_code || true
db_go

db_input high libphone-utils/area_code || true
db_go
