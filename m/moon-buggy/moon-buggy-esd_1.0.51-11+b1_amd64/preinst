#! /bin/sh -e
# preinst script for moon-buggy-esd
#
# see: dh_installdeb(1)

#export DEBCONF_DEBUG=developer

# summary of how this script can be called:
#        * <new-preinst> `install'
#        * <new-preinst> `install' <old-version>
#        * <new-preinst> `upgrade' <old-version>
#        * <old-preinst> `abort-upgrade' <new-version>

case "$1" in
    install|upgrade)
# Source debconf library.
        . /usr/share/debconf/confmodule

        db_get moon-buggy-esd/sound_hardware
        if [ "$RET" = "false" ]; then
	# No sound hardware, do not install this package
            # unregister this question, if a user wants to try install this package later
	    db_unregister moon-buggy-esd/sound_hardware
            exit 1;
        fi
    ;;

    abort-upgrade)
    ;;

    *)
        echo "preinst called with unknown argument \`$1'" >&2
        exit 0
    ;;
esac

# dh_installdeb will replace this with shell code automatically
# generated by other debhelper scripts.



exit 0
