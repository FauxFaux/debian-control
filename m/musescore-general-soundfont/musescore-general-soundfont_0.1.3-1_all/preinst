#!/bin/sh

set -e

# This maintainer script can be called the following ways:
#
# * new-preinst "install" [$old_version]
# * new-preinst "install" $old_version $new_version # 1.18.5, stretch
# * new-preinst "upgrade" [$old_version]
# * new-preinst "upgrade" $old_version $new_version # 1.18.5, stretch
# * old-preinst "abort-upgrade" $new_version
# Essential packages and Pre-Depends are available. Pre-Depends have
# been configured once, but may be unpacked or Half-Configured only,
# or, for "abort-upgrade", Half-Installed if their upgrade failed.

case $1 in
#install)
#	;;
#upgrade)
#	if test -z "$2" || \
#	    dpkg --compare-versions "$2" lt '0.1.1-3~'; then
install|upgrade)
	if test x"musescore-general-soundfont" = x"$(dpkg-divert \
	    --listpackage /usr/share/sounds/sf3/MuseScore_General.sf3)"; then
		# can probably be removed after buster except for in backports
		(dpkg-divert --package musescore-general-soundfont --rename \
		    --remove /usr/share/sounds/sf3/MuseScore_General.sf3 || :)
	fi
	;;

abort-upgrade)
	;;

*)
	echo >&2 "preinst called with unknown subcommand '$1'"
	exit 1
	;;
esac

# dh_installdeb will replace this with shell code automatically
# generated by other debhelper scripts.



exit 0
