#!/bin/sh
# postrm script for polipo

set -e

CACHE_DIR=/var/cache/polipo
PID_DIR=/var/run/polipo
LOG_DIR=/var/log/polipo

IPUP_D=/etc/ppp/ip-up.d
IPDOWN_D=/etc/ppp/ip-down.d

case "$1" in
    purge)

	# Remove polipo related directories
	for DIR in "$CACHE_DIR" "$PID_DIR" "$LOG_DIR"; do
	    echo -n "Purging $DIR..."
	    rm -rf "$DIR"
	    echo " done"
	done

    ;;

    remove|upgrade|failed-upgrade|disappear)

    ;;

    *)
        echo "postrm called with unknown argument \`$1'" >&2
        exit 1

esac

# Automatically added by dh_installinit
if [ "$1" = "purge" ] ; then
	update-rc.d polipo remove >/dev/null
fi


# In case this system is running systemd, we make systemd reload the unit files
# to pick up changes.
if [ -d /run/systemd/system ] ; then
	systemctl --system daemon-reload >/dev/null || true
fi
# End automatically added section


exit 0
