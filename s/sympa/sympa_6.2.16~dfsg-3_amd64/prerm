#!/bin/sh

#
# prerm script for sympa
#

set -e

if [ -f /usr/share/debconf/confmodule ]; then
    . /usr/share/debconf/confmodule
fi

if [ -f /usr/share/dbconfig-common/dpkg/prerm ]; then
    . /usr/share/dbconfig-common/dpkg/prerm
    dbc_go sympa $@
fi

if [ "$1" = "remove" ]; then
    rm -f /etc/mail/smrsh/bouncequeue /etc/mail/smrsh/queue
fi

if which dpkg-maintscript-helper >/dev/null && dpkg-maintscript-helper supports rm_conffile ; then
    dpkg-maintscript-helper rm_conffile /etc/sympa/data_structure.version \
        "6.1.11~dfsg-1~" -- "$@"
fi

# Automatically added by dh_installdeb
dpkg-maintscript-helper rm_conffile /etc/sympa/sympa/sympa.conf "6.2.16~dfsg-2~" -- "$@"
# End automatically added section
# Automatically added by dh_systemd_start
if [ -d /run/systemd/system ]; then
	deb-systemd-invoke stop sympa-archived.service sympa-bounced.service sympa-bulk.service sympa-task_manager.service >/dev/null
fi
# End automatically added section
# Automatically added by dh_installinit
if [ -x "/etc/init.d/sympa" ]; then
	invoke-rc.d sympa stop || exit $?
fi
# End automatically added section


exit 0
