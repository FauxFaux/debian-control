#! /bin/sh
# preinst script for tenmado
#
# see: dh_installdeb(1)

set -e

# summary of how this script can be called:
#        * <new-preinst> `install'
#        * <new-preinst> `install' <old-version>
#        * <new-preinst> `upgrade' <old-version>
#        * <old-preinst> `abort-upgrade' <new-version>
#
# For details see /usr/share/doc/packaging-manual/

case "$1" in
    install)
    ;;

    upgrade)
    # transition to a plain text high score file
    if dpkg --compare-versions "$2" lt-nl "0.7-2"
    then
      if test -x /usr/games/tenmado
        then
        # called here is the old binary which uses libdb3
        # I call tenmado by its absolute path because /usr/games/ is usually
        # not in root's $PATH
        for N in 0 1 2 3 4 5
        do
          /usr/games/tenmado --dump $N \
  > /var/games/tenmado/dump-from-db3-$N.txt
        done
      fi
    fi
    ;;

    abort-upgrade)
    ;;

    *)
        echo "preinst called with unknown argument \`$1'" >&2
        exit 0
    ;;
esac

# dh_installdeb will replace this with shell code automatically
# generated by other debhelper scripts.



exit 0


