#!/bin/sh
set -e
# Automatically added by dh_installdeb/11.3.5
dpkg-maintscript-helper rm_conffile /etc/mediawiki-extensions/extensions-enabled/wikidiff2.php 1.4.1-1 -- "$@"
dpkg-maintscript-helper rm_conffile /etc/mediawiki-extensions/extensions-available/wikidiff2.php 1.4.1-1 -- "$@"
# End automatically added section
# Automatically added by dh_php/UNDECLARED
for conf in wikidiff2; do
    dpkg-maintscript-helper rm_conffile /etc/php/mods-available/${conf}.ini -- "$@"
done

if [ "$1" = "remove" ]; then
    if [ -e /usr/lib/php/php-maintscript-helper ] ; then
	. /usr/lib/php/php-maintscript-helper

	for version in 7.2 ; do
	    for conf in wikidiff2 ; do
		php_invoke dismod $version ALL $conf || exit 1
	    done
	done
    fi
fi

if [ "$1" = "purge" ] ; then
    for version in 7.2 ; do
	inidir="/etc/php/$version/mods-available"
	for conf in wikidiff2; do
	    inifile=${conf}.ini
	    # Final cleanup of possible leftover symlinks
	    find /etc/php/ -type l | \
		while read symlink; do
		    if [ "$(readlink $symlink)" = "${inidir}/$inifile" ]; then
			rm -f "${symlink}"
		    fi
		done
	done
    done
fi
# End automatically added section
